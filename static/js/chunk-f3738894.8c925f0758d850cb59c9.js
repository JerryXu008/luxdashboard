(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-f3738894"],{"096e":function(t,e,i){"use strict";i("4e97")},"0ce2":function(t,e,i){"use strict";i("c54b")},"136d":function(t,e,i){"use strict";i("71c7")},"1a5c":function(t,e,i){"use strict";i("dab9")},"365c":function(t,e,i){"use strict";var a=i("c270");i.d(e,"b",(function(){return a.a}));var s=i("4ec3");i.d(e,"a",(function(){return s.b}))},"37ff":function(t,e,i){"use strict";i("6d8f")},"4e97":function(t,e,i){},"4ec3":function(t,e,i){"use strict";i.d(e,"a",(function(){return l})),i.d(e,"b",(function(){return c})),i.d(e,"c",(function(){return h}));var a=i("bc3a"),s=i.n(a);console.log(Object({NODE_ENV:"production",VUE_APP_BASE_API:"/prod-api",VUE_APP_outputDir:"dist",VUE_APP_TITLE:"大屏展示系统",BASE_URL:""}));var o={ENC:!1,baseUrl:"/prod-api",code:401};i("a18c");let n=o.baseUrl;s.a.CancelToken;s.a.interceptors.request.use((function(t){let e=localStorage.getItem("token");return t.headers.common["Content-Type"]="application/json;charset=utf-8",t.headers.common.token=e,t}),(function(t){return console.log(t),Promise.reject(t)})),s.a.interceptors.response.use(t=>200!==t.status?Promise.reject(t):(t.data.code,t.data),t=>{console.error(t);return Promise.reject({success:!1,msg:"未知异常，请联系管理员！"})});let r={headers:{enc:o.ENC}};const l=async(t,e)=>{try{e=e;return await s.a.get(`${n}${t}`,{params:e,headers:r.headers},r)}catch(t){return t}},c=async(t,e)=>{try{return await s.a.get(t,{params:e})}catch(t){return t}},h=async(t,e)=>{try{e=e;return await s.a.post(`${n}${t}`,e,r)}catch(t){return t}}},"538f":function(t,e,i){"use strict";var a={components:{},data:()=>({}),props:{data:{type:Array,default:()=>[]}},computed:{},methods:{init(){}},created(){},mounted(){},beforeDestroy(){}},s=(i("1a5c"),i("2877")),o=Object(s.a)(a,(function(){return(0,this._self._c)("div",{staticClass:"kong"},[this._t("default")],2)}),[],!1,null,"d55b0914",null);e.a=o.exports},"586b":function(t,e,i){"use strict";i("6a70")},"63f8":function(t,e,i){"use strict";i("a5d8")},"6a70":function(t,e,i){},"6d8f":function(t,e,i){},"71c7":function(t,e,i){},9397:function(t,e,i){"use strict";i("d657")},a5d8:function(t,e,i){},a939:function(t,e,i){"undefined"!=typeof self&&self,t.exports=function(t){function e(a){if(i[a])return i[a].exports;var s=i[a]={i:a,l:!1,exports:{}};return t[a].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,a){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(4)();var a=i(5),s=i(6);e.default={name:"vue-seamless-scroll",data:function(){return{xPos:0,yPos:0,delay:0,copyHtml:"",height:0,width:0,realBoxWidth:0}},props:{data:{type:Array,default:function(){return[]}},classOption:{type:Object,default:function(){return{}}}},computed:{leftSwitchState:function(){return this.xPos<0},rightSwitchState:function(){return Math.abs(this.xPos)<this.realBoxWidth-this.width},leftSwitchClass:function(){return this.leftSwitchState?"":this.options.switchDisabledClass},rightSwitchClass:function(){return this.rightSwitchState?"":this.options.switchDisabledClass},leftSwitch:function(){return{position:"absolute",margin:this.height/2+"px 0 0 -"+this.options.switchOffset+"px",transform:"translate(-100%,-50%)"}},rightSwitch:function(){return{position:"absolute",margin:this.height/2+"px 0 0 "+(this.width+this.options.switchOffset)+"px",transform:"translateY(-50%)"}},float:function(){return this.isHorizontal?{float:"left",overflow:"hidden"}:{overflow:"hidden"}},pos:function(){return{transform:"translate("+this.xPos+"px,"+this.yPos+"px)",transition:"all "+this.ease+" "+this.delay+"ms",overflow:"hidden"}},defaultOption:function(){return{step:1,limitMoveNum:5,hoverStop:!0,direction:1,openTouch:!0,singleHeight:0,singleWidth:0,waitTime:1e3,switchOffset:30,autoPlay:!0,navigation:!1,switchSingleStep:134,switchDelay:400,switchDisabledClass:"disabled",isSingleRemUnit:!1}},options:function(){return s({},this.defaultOption,this.classOption)},navigation:function(){return this.options.navigation},autoPlay:function(){return!this.navigation&&this.options.autoPlay},scrollSwitch:function(){return this.data.length>=this.options.limitMoveNum},hoverStopSwitch:function(){return this.options.hoverStop&&this.autoPlay&&this.scrollSwitch},canTouchScroll:function(){return this.options.openTouch},isHorizontal:function(){return this.options.direction>1},baseFontSize:function(){return this.options.isSingleRemUnit?parseInt(window.getComputedStyle(document.documentElement,null).fontSize):1},realSingleStopWidth:function(){return this.options.singleWidth*this.baseFontSize},realSingleStopHeight:function(){return this.options.singleHeight*this.baseFontSize},step:function(){var t=this.options.step;return this.isHorizontal?this.realSingleStopWidth:this.realSingleStopHeight,t}},methods:{reset:function(){this._cancle(),this._initMove()},leftSwitchClick:function(){if(this.leftSwitchState)return Math.abs(this.xPos)<this.options.switchSingleStep?void(this.xPos=0):void(this.xPos+=this.options.switchSingleStep)},rightSwitchClick:function(){if(this.rightSwitchState)return this.realBoxWidth-this.width+this.xPos<this.options.switchSingleStep?void(this.xPos=this.width-this.realBoxWidth):void(this.xPos-=this.options.switchSingleStep)},_cancle:function(){cancelAnimationFrame(this.reqFrame||"")},touchStart:function(t){var e=this;if(this.canTouchScroll){var i=void 0,a=t.targetTouches[0],s=this.options,o=s.waitTime,n=s.singleHeight,r=s.singleWidth;this.startPos={x:a.pageX,y:a.pageY},this.startPosY=this.yPos,this.startPosX=this.xPos,n&&r?(i&&clearTimeout(i),i=setTimeout((function(){e._cancle()}),o+20)):this._cancle()}},touchMove:function(t){if(!(!this.canTouchScroll||t.targetTouches.length>1||t.scale&&1!==t.scale)){var e=t.targetTouches[0],i=this.options.direction;this.endPos={x:e.pageX-this.startPos.x,y:e.pageY-this.startPos.y},event.preventDefault();var a=Math.abs(this.endPos.x)<Math.abs(this.endPos.y)?1:0;1===a&&i<2?this.yPos=this.startPosY+this.endPos.y:0===a&&i>1&&(this.xPos=this.startPosX+this.endPos.x)}},touchEnd:function(){var t=this;if(this.canTouchScroll){var e=void 0,i=this.options.direction;if(this.delay=50,1===i)this.yPos>0&&(this.yPos=0);else if(0===i){var a=this.realBoxHeight/2*-1;this.yPos<a&&(this.yPos=a)}else if(2===i)this.xPos>0&&(this.xPos=0);else if(3===i){var s=-1*this.realBoxWidth;this.xPos<s&&(this.xPos=s)}e&&clearTimeout(e),e=setTimeout((function(){t.delay=0,t._move()}),this.delay)}},enter:function(){this.hoverStopSwitch&&this._stopMove()},leave:function(){this.hoverStopSwitch&&this._startMove()},_move:function(){this.isHover||(this._cancle(),this.reqFrame=requestAnimationFrame(function(){var t=this,e=this.realBoxHeight/2,i=this.realBoxWidth/2,a=this.options,s=a.direction,o=a.waitTime,n=this.step;1===s?(Math.abs(this.yPos)>=e&&(this.$emit("ScrollEnd"),this.yPos=0),this.yPos-=n):0===s?(this.yPos>=0&&(this.$emit("ScrollEnd"),this.yPos=-1*e),this.yPos+=n):2===s?(Math.abs(this.xPos)>=i&&(this.$emit("ScrollEnd"),this.xPos=0),this.xPos-=n):3===s&&(this.xPos>=0&&(this.$emit("ScrollEnd"),this.xPos=-1*i),this.xPos+=n),this.singleWaitTime&&clearTimeout(this.singleWaitTime),this.realSingleStopHeight?Math.abs(this.yPos)%this.realSingleStopHeight<n?this.singleWaitTime=setTimeout((function(){t._move()}),o):this._move():this.realSingleStopWidth&&Math.abs(this.xPos)%this.realSingleStopWidth<n?this.singleWaitTime=setTimeout((function(){t._move()}),o):this._move()}.bind(this)))},_initMove:function(){var t=this;this.$nextTick((function(){var e=t.options.switchDelay,i=t.autoPlay,a=t.isHorizontal;if(t._dataWarm(t.data),t.copyHtml="",a){t.height=t.$refs.wrap.offsetHeight,t.width=t.$refs.wrap.offsetWidth;var s=t.$refs.slotList.offsetWidth;i&&(s=2*s+1),t.$refs.realBox.style.width=s+"px",t.realBoxWidth=s}if(!i)return t.ease="linear",void(t.delay=e);t.ease="ease-in",t.delay=0,t.scrollSwitch?(t.copyHtml=t.$refs.slotList.innerHTML,setTimeout((function(){t.realBoxHeight=t.$refs.realBox.offsetHeight,t._move()}),0)):(t._cancle(),t.yPos=t.xPos=0)}))},_dataWarm:function(t){t.length},_startMove:function(){this.isHover=!1,this._move()},_stopMove:function(){this.isHover=!0,this.singleWaitTime&&clearTimeout(this.singleWaitTime),this._cancle()}},mounted:function(){this._initMove()},watch:{data:function(t,e){this._dataWarm(t),a(t,e)||this.reset()},autoPlay:function(t){t?this.reset():this._stopMove()}},beforeCreate:function(){this.reqFrame=null,this.singleWaitTime=null,this.isHover=!1,this.ease="ease-in"},beforeDestroy:function(){this._cancle(),clearTimeout(this.singleWaitTime)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){return t&&t.__esModule?t:{default:t}}(i(2));a.default.install=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.component(e.componentName||a.default.name,a.default)},"undefined"!=typeof window&&window.Vue&&Vue.component(a.default.name,a.default),e.default=a.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(0),s=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);var n=i(7),r=i(3)(s.a,n.a,!1,null,null,null);e.default=r.exports},function(t,e){t.exports=function(t,e,i,a,s,o){var n,r=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(n=t,r=t.default);var c,h="function"==typeof r?r.options:r;if(e&&(h.render=e.render,h.staticRenderFns=e.staticRenderFns,h._compiled=!0),i&&(h.functional=!0),s&&(h._scopeId=s),o?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},h._ssrRegister=c):a&&(c=a),c){var u=h.functional,d=u?h.render:h.beforeCreate;u?(h._injectStyles=c,h.render=function(t,e){return c.call(e),d(t,e)}):h.beforeCreate=d?[].concat(d,c):[c]}return{esModule:n,exports:r,options:h}}},function(t,e){t.exports=function(){window.cancelAnimationFrame=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t)},window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}},function(t,e){t.exports=function(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(var i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0}},function(t,e){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function t(){Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});var e=void 0,a=void 0,s=void 0,o=void 0,n=void 0,r=void 0,l=1,c=arguments[0]||{},h=!1,u=arguments.length;if("boolean"==typeof c&&(h=c,c=arguments[1]||{},l++),"object"!==(void 0===c?"undefined":i(c))&&"function"!=typeof c&&(c={}),l===u)return c;for(;l<u;l++)if(null!=(a=arguments[l]))for(e in a)s=c[e],o=a[e],n=Array.isArray(o),h&&o&&("object"===(void 0===o?"undefined":i(o))||n)?(n?(n=!1,r=s&&Array.isArray(s)?s:[]):r=s&&"object"===(void 0===s?"undefined":i(s))?s:{},c[e]=t(h,r,o)):void 0!==o&&(c[e]=o);return c}},function(t,e,i){"use strict";var a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"wrap"},[t.navigation?i("div",{class:t.leftSwitchClass,style:t.leftSwitch,on:{click:t.leftSwitchClick}},[t._t("left-switch")],2):t._e(),t._v(" "),t.navigation?i("div",{class:t.rightSwitchClass,style:t.rightSwitch,on:{click:t.rightSwitchClick}},[t._t("right-switch")],2):t._e(),t._v(" "),i("div",{ref:"realBox",style:t.pos,on:{mouseenter:t.enter,mouseleave:t.leave,touchstart:t.touchStart,touchmove:t.touchMove,touchend:t.touchEnd}},[i("div",{ref:"slotList",style:t.float},[t._t("default")],2),t._v(" "),i("div",{style:t.float,domProps:{innerHTML:t._s(t.copyHtml)}})])])},staticRenderFns:[]};e.a=a}]).default},ac72:function(t,e,i){},c270:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var a=i("4ec3");const s={fpytest:"/system/demo/getmapdata",oneweekfpy:"/system/demo/getoneweekfpy",onedayfpy:"/system/demo/getonedayfpy",guzhangzonglan:"/system/demo/guzhangzonglan",zhongdianguanzhu:"/system/demo/zhongdianguanzhu",mingrichuanqi:"/system/demo/mingrichuanqi",guzhangshichang:"/system/demo/guzhangshichang",shebeitongji:"/system/demo/shebeitongji",zidonghuamozuxinxi:"/system/demo/zidonghuamozuxinxi",gongchangjiadonglv:"/system/demo/gongchangjiadonglv",baojingshichangtongji:"/system/demo/baojingshichangtongji",mozuzhuangtaixinxi:"/system/demo/mozuzhuangtaixinxi",mozuchanliangdachenglv:"/system/demo/mozuchanliangdachenglv",fuzhuxianglianglv:"/system/demo/fuzhuxianglianglv",big1:"/bigscreen/countUserNum",big2:"/bigscreen/countDeviceNum",big3:"/bigscreen/sbtx",big4:"/bigscreen/alarmNum",big5:"/bigscreen/ssyj",big6:"/bigscreen/installationPlan",big7:"/bigscreen/ranking",big8:"/bigscreen/centermap"},o=(t,e)=>a.a(s[t],e)},c2b5:function(t,e,i){"use strict";i("ac72")},c54b:function(t,e,i){},d657:function(t,e,i){},dab9:function(t,e,i){},df5e:function(t,e,i){"use strict";i.r(e);var a=i("c270");let s={fontSize:24};var o={data:()=>({options:{},userOverview:{alarmNum:0,offlineNum:0,onlineNum:0,totalNum:0},pageflag:!0,timer:null,config:{number:[100],content:"{nt}",style:{...s,fill:"#00fdfa"}},onlineconfig:{number:[0],content:"{nt}",style:{...s,fill:"#07f7a8"}},offlineconfig:{number:[0],content:"{nt}",style:{...s,fill:"#e3b337"}},laramnumconfig:{number:[0],content:"{nt}",style:{...s,fill:"#f5023d"}}}),filters:{numsFilter:t=>t||0},created(){this.getData()},mounted(){},beforeDestroy(){this.clearData()},methods:{clearData(){this.timer&&(clearInterval(this.timer),this.timer=null)},getData(){this.pageflag=!0,Object(a.a)("big2").then(t=>{this.timer||console.log("设备总览",t),t.success?(this.userOverview=t.data,this.onlineconfig={...this.onlineconfig,number:[t.data.onlineNum]},this.config={...this.config,number:[t.data.totalNum]},this.offlineconfig={...this.offlineconfig,number:[t.data.offlineNum]},this.laramnumconfig={...this.laramnumconfig,number:[t.data.alarmNum]},this.switper()):(this.pageflag=!1,this.$Message.warning(t.msg))})},switper(){if(this.timer)return;this.timer=setInterval(t=>{this.getData()},this.$store.state.setting.echartsAutoTime)}}},n=(i("096e"),i("2877")),r=Object(n.a)(o,(function(){var t=this,e=t._self._c;return t.pageflag?e("ul",{staticClass:"user_Overview flex"},[e("li",{staticClass:"user_Overview-item",staticStyle:{color:"#00fdfa"}},[e("div",{staticClass:"user_Overview_nums allnum"},[e("dv-digital-flop",{staticStyle:{width:"100%",height:"100%"},attrs:{config:t.config}})],1),e("p",[t._v("总设备数")])]),e("li",{staticClass:"user_Overview-item",staticStyle:{color:"#07f7a8"}},[e("div",{staticClass:"user_Overview_nums online"},[e("dv-digital-flop",{staticStyle:{width:"100%",height:"100%"},attrs:{config:t.onlineconfig}})],1),e("p",[t._v("在线数")])]),e("li",{staticClass:"user_Overview-item",staticStyle:{color:"#e3b337"}},[e("div",{staticClass:"user_Overview_nums offline"},[e("dv-digital-flop",{staticStyle:{width:"100%",height:"100%"},attrs:{config:t.offlineconfig}})],1),e("p",[t._v("掉线数")])]),e("li",{staticClass:"user_Overview-item",staticStyle:{color:"#f5023d"}},[e("div",{staticClass:"user_Overview_nums laramnum"},[e("dv-digital-flop",{staticStyle:{width:"100%",height:"100%"},attrs:{config:t.laramnumconfig}})],1),e("p",[t._v("告警次数")])])]):e("Reacquire",{attrs:{"line-height":"200px"},on:{onclick:t.getData}},[t._v(" 重新获取 ")])}),[],!1,null,"6d9154bd",null).exports,l={data:()=>({options:{},countUserNumData:{lockNum:0,onlineNum:0,offlineNum:0,totalNum:0},pageflag:!0,timer:null}),created(){this.getData()},mounted(){},beforeDestroy(){this.clearData()},methods:{clearData(){this.timer&&(clearInterval(this.timer),this.timer=null)},getData(){this.pageflag=!0,Object(a.a)("big1").then(t=>{this.timer||console.log("设备总览",t),t.success?(this.countUserNumData=t.data,this.$nextTick(()=>{this.init()})):(this.pageflag=!1,this.$Message({text:t.msg,type:"warning"}))})},switper(){if(this.timer)return;let t=t=>{this.getData()};this.timer=setInterval(t,this.$store.state.setting.echartsAutoTime);let e=this.$refs.charts.chart;e.on("mouseover",t=>{this.clearData()}),e.on("mouseout",e=>{this.timer=setInterval(t,this.$store.state.setting.echartsAutoTime)})},init(){let t=this.countUserNumData.totalNum,e=["#ECA444","#33A1DB","#56B557"],i={name:"用户总览",type:"pie",radius:["42%","65%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:4,borderColor:"rgba(0,0,0,0)",borderWidth:2},color:e,data:[{value:this.countUserNumData.lockNum,name:"锁定",label:{shadowColor:e[0]}},{value:this.countUserNumData.onlineNum,name:"在线",label:{shadowColor:e[2]}},{value:this.countUserNumData.offlineNum,name:"离线",label:{shadowColor:e[1]}}]};this.options={title:{text:["{value|"+t+"}","{name|总数}"].join("\n"),top:"center",left:"center",textStyle:{rich:{value:{color:"#ffffff",fontSize:24,fontWeight:"bold",lineHeight:20},name:{color:"#ffffff",lineHeight:20}}}},tooltip:{trigger:"item",backgroundColor:"rgba(0,0,0,.6)",borderColor:"rgba(147, 235, 248, .8)",textStyle:{color:"#FFF"}},legend:{show:!1,top:"5%",left:"center"},series:[{...i,tooltip:{show:!0},label:{formatter:"   {b|{b}}   \n   {c|{c}个}   {per|{d}%}  ",rich:{b:{color:"#fff",fontSize:12,lineHeight:26},c:{color:"#31ABE3",fontSize:14},per:{color:"#31ABE3",fontSize:14}}},labelLine:{length:20,length2:36,show:!0},emphasis:{show:!0}},{...i,tooltip:{show:!0},itemStyle:{},label:{backgroundColor:"inherit",height:0,width:0,lineHeight:0,borderRadius:2.5,shadowBlur:8,shadowColor:"auto",padding:[2.5,-2.5,2.5,-2.5]},labelLine:{length:20,length2:36,show:!1}}]}}}},c=Object(n.a)(l,(function(){var t=this._self._c;return this.pageflag?t("Echart",{ref:"charts",staticClass:"left_center_inner",attrs:{id:"leftCenter",options:this.options}}):t("Reacquire",{staticStyle:{"line-height":"200px"},on:{onclick:this.getData}},[this._v(" 重新获取 ")])}),[],!1,null,"9928b9da",null).exports,h=i("365c"),u=i("a939"),d=i.n(u),f=i("538f"),m={components:{vueSeamlessScroll:d.a,Kong:f.a},data(){return{list:[],pageflag:!0,components:d.a,defaultOption:{...this.$store.state.setting.defaultOption,singleHeight:240,limitMoveNum:5,step:0}}},computed:{sbtxSwiperFlag(){let t=this.$store.state.setting.sbtxSwiper;return this.components=t?d.a:f.a,t}},created(){},mounted(){this.getData()},methods:{addressHandle(t){let e=t.provinceName;return t.cityName&&(e+="/"+t.cityName,t.countyName&&(e+="/"+t.countyName)),e},getData(){this.pageflag=!0,Object(h.b)("big3",{limitNum:20}).then(t=>{if(console.log("设备提醒",t),t.success){this.countUserNumData=t.data,this.list=t.data.list;let e=setTimeout(()=>{clearTimeout(e),this.defaultOption.step=this.$store.state.setting.defaultOption.step},this.$store.state.setting.defaultOption.waitTime)}else this.pageflag=!1,this.$Message({text:t.msg,type:"warning"})})}}},g=(i("c2b5"),Object(n.a)(m,(function(){var t=this,e=t._self._c;return t.pageflag?e("div",{staticClass:"left_boottom_wrap beautify-scroll-def",class:{"overflow-y-auto":!t.sbtxSwiperFlag}},[e(t.components,{tag:"component",attrs:{data:t.list,"class-option":t.defaultOption}},[e("ul",{staticClass:"left_boottom"},t._l(t.list,(function(i,a){return e("li",{key:a,staticClass:"left_boottom_item"},[e("span",{staticClass:"orderNum doudong"},[t._v(t._s(a+1))]),e("div",{staticClass:"inner_right"},[e("div",{staticClass:"dibu"}),e("div",{staticClass:"flex"},[e("div",{staticClass:"info"},[e("span",{staticClass:"labels"},[t._v("设备ID：")]),e("span",{staticClass:"contents zhuyao doudong wangguan"},[t._v(" "+t._s(i.gatewayno))])]),e("div",{staticClass:"info"},[e("span",{staticClass:"labels"},[t._v("时间：")]),e("span",{staticClass:"contents",staticStyle:{"font-size":"12px"}},[t._v(" "+t._s(i.createTime))])])]),e("span",{staticClass:"types doudong",class:{typeRed:0==i.onlineState,typeGreen:1==i.onlineState}},[t._v(t._s(1==i.onlineState?"上线":"下线"))]),e("div",{staticClass:"info addresswrap"},[e("span",{staticClass:"labels"},[t._v("地址：")]),e("span",{staticClass:"contents ciyao",staticStyle:{"font-size":"12px"}},[t._v(" "+t._s(t.addressHandle(i)))])])])])})),0)])],1):e("Reacquire",{staticStyle:{"line-height":"200px"},on:{onclick:t.getData}})}),[],!1,null,"0e35082a",null).exports),p={"中国":{adcode:"100000",level:"country",name:"中华人民共和国"},"新疆维吾尔自治区":{adcode:"650000",level:"province",name:"新疆维吾尔自治区"},"湖北省":{adcode:"420000",level:"province",name:"湖北省"},"辽宁省":{adcode:"210000",level:"province",name:"辽宁省"},"广东省":{adcode:"440000",level:"province",name:"广东省"},"内蒙古自治区":{adcode:"150000",level:"province",name:"内蒙古自治区"},"黑龙江省":{adcode:"230000",level:"province",name:"黑龙江省"},"河南省":{adcode:"410000",level:"province",name:"河南省"},"山东省":{adcode:"370000",level:"province",name:"山东省"},"陕西省":{adcode:"610000",level:"province",name:"陕西省"},"贵州省":{adcode:"520000",level:"province",name:"贵州省"},"上海市":{adcode:"310000",level:"province",name:"上海市"},"重庆市":{adcode:"500000",level:"province",name:"重庆市"},"西藏自治区":{adcode:"540000",level:"province",name:"西藏自治区"},"安徽省":{adcode:"340000",level:"province",name:"安徽省"},"福建省":{adcode:"350000",level:"province",name:"福建省"},"湖南省":{adcode:"430000",level:"province",name:"湖南省"},"海南省":{adcode:"460000",level:"province",name:"海南省"},"江苏省":{adcode:"320000",level:"province",name:"江苏省"},"青海省":{adcode:"630000",level:"province",name:"青海省"},"广西壮族自治区":{adcode:"450000",level:"province",name:"广西壮族自治区"},"宁夏回族自治区":{adcode:"640000",level:"province",name:"宁夏回族自治区"},"浙江省":{adcode:"330000",level:"province",name:"浙江省"},"河北省":{adcode:"130000",level:"province",name:"河北省"},"香港特别行政区":{adcode:"810000",level:"province",name:"香港特别行政区"},"台湾省":{adcode:"710000",level:"province",name:"台湾省"},"澳门特别行政区":{adcode:"820000",level:"province",name:"澳门特别行政区"},"甘肃省":{adcode:"620000",level:"province",name:"甘肃省"},"四川省":{adcode:"510000",level:"province",name:"四川省"},"天津市":{adcode:"120000",level:"province",name:"天津市"},"江西省":{adcode:"360000",level:"province",name:"江西省"},"云南省":{adcode:"530000",level:"province",name:"云南省"},"山西省":{adcode:"140000",level:"province",name:"山西省"},"北京市":{adcode:"110000",level:"province",name:"北京市"},"吉林省":{adcode:"220000",level:"province",name:"吉林省"}},v=i("313e"),b={data:()=>({maptitle:"设备分布图",options:{},code:"china",echartBindClick:!1,isSouthChinaSea:!1}),created(){},mounted(){this.getData("china")},methods:{getData(t){Object(a.a)("big8",{regionCode:t}).then(t=>{console.log("设备分布",t),t.success?(this.getGeojson(t.data.regionCode,t.data.dataList),this.mapclick()):this.$Message.warning(t.msg)})},async getGeojson(t,e){this.code=t;let i=t;this.isSouthChinaSea&&"china"==t&&(i="chinaNanhai");let a=v.getMap(t);a?a=a.geoJSON:(a=await Object(h.a)(`./map-geojson/${i}.json`).then(t=>t),v.registerMap(t,a));let s={};a.features.map(t=>{s[t.properties.name]=t.properties.centroid||t.properties.center});let o=[];e.map(t=>{s[t.name]&&o.push({name:t.name,value:s[t.name].concat(t.value)})}),this.init(t,e,o)},init(t,e,i){let a={backgroundColor:"rgba(0,0,0,0)",tooltip:{show:!1},legend:{show:!1},visualMap:{left:20,bottom:20,pieces:[{gte:1e3,label:"1000个以上"},{gte:600,lte:999,label:"600-999个"},{gte:200,lte:599,label:"200-599个"},{gte:50,lte:199,label:"49-199个"},{gte:10,lte:49,label:"10-49个"},{lte:9,label:"1-9个"}],inRange:{color:["#c3d7df","#5cb3cc","#8abcd1","#66a9c9","#2f90b9","#1781b5"]},textStyle:{color:"#fff"}},geo:{map:t,roam:!1,selectedMode:!1,zoom:1.05,top:45,show:!1},series:[{name:"MAP",type:"map",map:t,data:e,selectedMode:!1,zoom:1.05,geoIndex:1,top:45,tooltip:{show:!0,formatter:function(t){return t.data?t.name+"："+t.data.value:t.name},backgroundColor:"rgba(0,0,0,.6)",borderColor:"rgba(147, 235, 248, .8)",textStyle:{color:"#FFF"}},label:{show:!1,color:"#000",formatter:function(t){return void 0!==t.data?t.name.slice(0,2):""},rich:{}},emphasis:{label:{show:!1},itemStyle:{areaColor:"#389BB7",borderWidth:1}},itemStyle:{borderColor:"rgba(147, 235, 248, .8)",borderWidth:1,areaColor:{type:"radial",x:.5,y:.5,r:.8,colorStops:[{offset:0,color:"rgba(147, 235, 248, 0)"},{offset:1,color:"rgba(147, 235, 248, .2)"}],globalCoord:!1},shadowColor:"rgba(128, 217, 248, .3)",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10}},{data:i,type:"effectScatter",coordinateSystem:"geo",symbolSize:function(t){return 4},legendHoverLink:!0,showEffectOn:"render",rippleEffect:{scale:6,color:"rgba(255,255,255, 1)",brushType:"fill"},tooltip:{show:!0,formatter:function(t){return t.data?t.name+"："+t.data.value[2]:t.name},backgroundColor:"rgba(0,0,0,.6)",borderColor:"rgba(147, 235, 248, .8)",textStyle:{color:"#FFF"}},label:{formatter:t=>t.name.slice(0,2),fontSize:11,offset:[0,2],position:"bottom",textBorderColor:"#fff",textShadowColor:"#000",textShadowBlur:10,textBorderWidth:0,color:"#FFF",show:!0},itemStyle:{color:"rgba(255,255,255,1)",borderColor:"rgba(2255,255,255,2)",borderWidth:4,shadowColor:"#000",shadowBlur:10}}]};this.options=a},message(t){this.$Message({text:t,type:"warning"})},mapclick(){this.echartBindClick||(this.$refs.CenterMap.chart.on("click",t=>{let e=p[t.name];e?this.getData(e.adcode):this.message("暂无下级地市!")}),this.echartBindClick=!0)}}},y=(i("63f8"),Object(n.a)(b,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"centermap"},[e("div",{staticClass:"maptitle"},[e("div",{staticClass:"zuo"}),e("span",{staticClass:"titletext"},[t._v(t._s(t.maptitle))]),e("div",{staticClass:"you"})]),e("div",{staticClass:"mapwrap"},[e("dv-border-box-13",["china"!==t.code?e("div",{staticClass:"quanguo",on:{click:function(e){return t.getData("china")}}},[t._v(" 中国 ")]):t._e(),e("Echart",{ref:"CenterMap",attrs:{id:"CenterMap",options:t.options}})],1)],1)])}),[],!1,null,"a332b14e",null).exports),w={data:()=>({options:{}}),props:{},mounted(){this.getData()},methods:{getData(){this.pageflag=!0,Object(h.b)("big6",{companyName:this.companyName}).then(t=>{console.log("安装计划",t),t.success?this.init(t.data):(this.pageflag=!1,this.$Message({text:t.msg,type:"warning"}))})},init(t){this.options={tooltip:{trigger:"axis",backgroundColor:"rgba(0,0,0,.6)",borderColor:"rgba(147, 235, 248, .8)",textStyle:{color:"#FFF"},formatter:function(t){var e=t[0].name+"<br>";return t.forEach((function(t){t.value?"安装率"==t.seriesName?e+=t.marker+" "+t.seriesName+" : "+t.value+"%</br>":e+=t.marker+" "+t.seriesName+" : "+t.value+"个</br>":e+=t.marker+" "+t.seriesName+" :  - </br>"})),e}},legend:{data:["已安装","计划安装","安装率"],textStyle:{color:"#B4B4B4"},top:"0"},grid:{left:"50px",right:"40px",bottom:"30px",top:"20px"},xAxis:{data:t.category,axisLine:{lineStyle:{color:"#B4B4B4"}},axisTick:{show:!1}},yAxis:[{splitLine:{show:!1},axisLine:{lineStyle:{color:"#B4B4B4"}},axisLabel:{formatter:"{value}"}},{splitLine:{show:!1},axisLine:{lineStyle:{color:"#B4B4B4"}},axisLabel:{formatter:"{value}% "}}],series:[{name:"已安装",type:"bar",barWidth:10,itemStyle:{borderRadius:5,color:"red"},data:t.barData},{name:"计划安装",type:"bar",barGap:"-100%",barWidth:10,itemStyle:{borderRadius:5,color:new v.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(156,107,211,0.8)"},{offset:.2,color:"rgba(156,107,211,0.5)"},{offset:1,color:"rgba(156,107,211,0.2)"}])},z:-12,data:t.lineData},{name:"安装率",type:"line",smooth:!0,showAllSymbol:!0,symbol:"emptyCircle",symbolSize:8,yAxisIndex:1,itemStyle:{color:"#F02FC2"},data:t.rateData}]}}}},_=(i("586b"),Object(n.a)(w,(function(){var t=this._self._c;return t("div",{staticClass:"center_bottom"},[t("Echart",{staticClass:"echarts_bottom",attrs:{options:this.options,id:"bottomLeftChart"}})],1)}),[],!1,null,"021d6b86",null).exports),S={data:()=>({option:{},pageflag:!1,timer:null}),created(){},mounted(){this.getData()},beforeDestroy(){this.clearData()},methods:{clearData(){this.timer&&(clearInterval(this.timer),this.timer=null)},getData(){this.pageflag=!0,Object(a.a)("big4").then(t=>{this.timer||console.log("报警次数",t),t.success?(this.countUserNumData=t.data,this.$nextTick(()=>{this.init(t.data.dateList,t.data.numList,t.data.numList2),this.switper()})):(this.pageflag=!1,this.$Message({text:t.msg,type:"warning"}))})},switper(){if(this.timer)return;let t=t=>{this.getData()};this.timer=setInterval(t,this.$store.state.setting.echartsAutoTime);let e=this.$refs.charts.chart;e.on("mouseover",t=>{this.clearData()}),e.on("mouseout",e=>{this.timer=setInterval(t,this.$store.state.setting.echartsAutoTime)})},init(t,e,i){this.option={xAxis:{type:"category",data:t,boundaryGap:!1,splitLine:{show:!0,lineStyle:{color:"rgba(31,99,163,.2)"}},axisLine:{lineStyle:{color:"rgba(31,99,163,.1)"}},axisLabel:{color:"#7EB7FD",fontWeight:"500"}},yAxis:{type:"value",splitLine:{show:!0,lineStyle:{color:"rgba(31,99,163,.2)"}},axisLine:{lineStyle:{color:"rgba(31,99,163,.1)"}},axisLabel:{color:"#7EB7FD",fontWeight:"500"}},tooltip:{trigger:"axis",backgroundColor:"rgba(0,0,0,.6)",borderColor:"rgba(147, 235, 248, .8)",textStyle:{color:"#FFF"}},grid:{show:!0,left:"10px",right:"30px",bottom:"10px",top:"28px",containLabel:!0,borderColor:"#1F63A3"},series:[{data:e,type:"line",smooth:!0,symbol:"none",name:"报警1次数",color:"rgba(252,144,16,.7)",areaStyle:{color:new v.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(252,144,16,.7)"},{offset:1,color:"rgba(252,144,16,.0)"}],!1)},markPoint:{data:[{name:"最大值",type:"max",valueDim:"y",symbol:"rect",symbolSize:[60,26],symbolOffset:[0,-20],itemStyle:{color:"rgba(0,0,0,0)"},label:{color:"#FC9010",backgroundColor:"rgba(252,144,16,0.1)",borderRadius:6,padding:[7,14],borderWidth:.5,borderColor:"rgba(252,144,16,.5)",formatter:"报警1：{c}"}},{name:"最大值",type:"max",valueDim:"y",symbol:"circle",symbolSize:6,itemStyle:{color:"#FC9010",shadowColor:"#FC9010",shadowBlur:8},label:{formatter:""}}]}},{data:i,type:"line",smooth:!0,symbol:"none",name:"报警2次数",color:"rgba(9,202,243,.7)",areaStyle:{color:new v.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(9,202,243,.7)"},{offset:1,color:"rgba(9,202,243,.0)"}],!1)},markPoint:{data:[{name:"最大值",type:"max",valueDim:"y",symbol:"rect",symbolSize:[60,26],symbolOffset:[0,-20],itemStyle:{color:"rgba(0,0,0,0)"},label:{color:"#09CAF3",backgroundColor:"rgba(9,202,243,0.1)",borderRadius:6,borderColor:"rgba(9,202,243,.5)",padding:[7,14],formatter:"报警2：{c}",borderWidth:.5}},{name:"最大值",type:"max",valueDim:"y",symbol:"circle",symbolSize:6,itemStyle:{color:"#09CAF3",shadowColor:"#09CAF3",shadowBlur:8},label:{formatter:""}}]}}]}}}},C=(i("37ff"),Object(n.a)(S,(function(){var t=this._self._c;return this.pageflag?t("Echart",{ref:"charts",staticClass:"right_top_inner",attrs:{id:"rightTop",options:this.option}}):t("Reacquire",{staticStyle:{"line-height":"200px"},on:{onclick:this.getData}},[this._v(" 重新获取 ")])}),[],!1,null,"53deca39",null).exports),x={data:()=>({gatewayno:"",config:{showValue:!0,unit:"次",data:[]}}),created(){this.getData()},computed:{},mounted(){},beforeDestroy(){this.clearData()},methods:{clearData(){this.timer&&(clearInterval(this.timer),this.timer=null)},switper(){if(this.timer)return;this.timer=setInterval(t=>{this.getData()},this.$store.state.setting.echartsAutoTime)},getData(){this.pageflag=!0,Object(a.a)("big7",{gatewayno:this.gatewayno}).then(t=>{this.timer||console.log("报警排名",t),t.success?(this.config={...this.config,data:t.data},this.switper()):(this.pageflag=!1,this.srcList=[],this.$Message({text:t.msg,type:"warning"}))})}}},P=(i("136d"),Object(n.a)(x,(function(){var t=this._self._c;return t("div",{staticClass:"right_bottom"},[t("dv-capsule-chart",{staticStyle:{width:"100%",height:"260px"},attrs:{config:this.config}})],1)}),[],!1,null,"f213de1a",null).exports),D={components:{vueSeamlessScroll:d.a,Kong:f.a},data(){return{list:[],pageflag:!0,defaultOption:{...this.$store.state.setting.defaultOption,limitMoveNum:3,singleHeight:250,step:0}}},computed:{sbtxSwiperFlag(){let t=this.$store.state.setting.ssyjSwiper;return this.components=t?d.a:f.a,t}},created(){this.getData()},mounted(){},methods:{getData(){this.pageflag=!0,Object(a.a)("big5",{limitNum:50}).then(t=>{if(console.log("实时预警",t),t.success){this.list=t.data.list;let e=setTimeout(()=>{clearTimeout(e),this.defaultOption.step=this.$store.state.setting.defaultOption.step},this.$store.state.setting.defaultOption.waitTime)}else this.pageflag=!1,this.$Message.warning(t.msg)})}}},O=(i("9397"),{components:{LeftTop:r,LeftCenter:c,LeftBottom:g,CenterMap:y,RightTop:C,RightCenter:P,RightBottom:Object(n.a)(D,(function(){var t=this,e=t._self._c;return t.pageflag?e("div",{staticClass:"right_center_wrap beautify-scroll-def",class:{"overflow-y-auto":!t.sbtxSwiperFlag}},[e(t.components,{tag:"component",attrs:{data:t.list,"class-option":t.defaultOption}},[e("ul",{staticClass:"right_center"},t._l(t.list,(function(i,a){return e("li",{key:a,staticClass:"right_center_item"},[e("span",{staticClass:"orderNum"},[t._v(t._s(a+1))]),e("div",{staticClass:"inner_right"},[e("div",{staticClass:"dibu"}),e("div",{staticClass:"flex"},[e("div",{staticClass:"info"},[e("span",{staticClass:"labels"},[t._v("设备ID：")]),e("span",{staticClass:"contents zhuyao"},[t._v(" "+t._s(i.gatewayno))])]),e("div",{staticClass:"info"},[e("span",{staticClass:"labels"},[t._v("型号：")]),e("span",{staticClass:"contents"},[t._v(" "+t._s(i.terminalno))])]),e("div",{staticClass:"info"},[e("span",{staticClass:"labels"},[t._v("告警值：")]),e("span",{staticClass:"contents warning"},[t._v(" "+t._s(t._f("montionFilter")(i.alertvalue)))])])]),e("div",{staticClass:"flex"},[e("div",{staticClass:"info"},[e("span",{staticClass:"labels"},[t._v(" 地址：")]),e("span",{staticClass:"contents ciyao",staticStyle:{"font-size":"12px"}},[t._v(" "+t._s(i.provinceName)+"/"+t._s(i.cityName)+"/"+t._s(i.countyName))])]),e("div",{staticClass:"info time"},[e("span",{staticClass:"labels"},[t._v("时间：")]),e("span",{staticClass:"contents",staticStyle:{"font-size":"12px"}},[t._v(" "+t._s(i.createtime))])])]),e("div",{staticClass:"flex"},[e("div",{staticClass:"info"},[e("span",{staticClass:"labels"},[t._v("报警内容：")]),e("span",{staticClass:"contents ciyao",class:{warning:i.alertdetail}},[t._v(" "+t._s(i.alertdetail||"无"))])])])])])})),0)])],1):e("Reacquire",{staticStyle:{"line-height":"200px"},on:{onclick:t.getData}})}),[],!1,null,"20acf7c8",null).exports,CenterBottom:_},data:()=>({}),filters:{numsFilter:t=>t||0},created(){},mounted(){},methods:{}}),T=(i("0ce2"),Object(n.a)(O,(function(){var t=this._self._c;return t("div",{staticClass:"contents"},[t("div",{staticClass:"contetn_left"},[t("div",{staticClass:"pagetab"}),t("ItemWrap",{staticClass:"contetn_left-top contetn_lr-item",attrs:{title:"设备总览"}},[t("LeftTop")],1),t("ItemWrap",{staticClass:"contetn_left-center contetn_lr-item",attrs:{title:"用户总览"}},[t("LeftCenter")],1),t("ItemWrap",{staticClass:"contetn_left-bottom contetn_lr-item",staticStyle:{padding:"0 10px 16px 10px"},attrs:{title:"设备提醒"}},[t("LeftBottom")],1)],1),t("div",{staticClass:"contetn_center"},[t("CenterMap",{staticClass:"contetn_center_top"}),t("ItemWrap",{staticClass:"contetn_center-bottom",attrs:{title:"安装计划"}},[t("CenterBottom")],1)],1),t("div",{staticClass:"contetn_right"},[t("ItemWrap",{staticClass:"contetn_left-bottom contetn_lr-item",attrs:{title:"报警次数"}},[t("RightTop")],1),t("ItemWrap",{staticClass:"contetn_left-bottom contetn_lr-item",staticStyle:{padding:"0 10px 16px 10px"},attrs:{title:"报警排名(TOP8)"}},[t("RightCenter")],1),t("ItemWrap",{staticClass:"contetn_left-bottom contetn_lr-item",attrs:{title:"数据统计图 "}},[t("RightBottom")],1)],1)])}),[],!1,null,"483bf624",null));e.default=T.exports}}]);