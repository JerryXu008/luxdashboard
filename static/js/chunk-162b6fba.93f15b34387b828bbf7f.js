(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-162b6fba"],{2219:function(t,e,i){},6511:function(t,e,i){"use strict";i.r(e);var s=i("ed08"),a={components:{},data:()=>({settingShow:!1,sbtxradio:!0,ssyjradio:!0,isScaleradio:!0}),computed:{},methods:{init(){this.settingShow=!0},radiochange(t,e){this.$store.commit("setting/updateSwiper",{val:t,type:e})}},created(){this.$store.commit("setting/initSwipers"),this.sbtxradio=this.$store.state.setting.sbtxSwiper,this.ssyjradio=this.$store.state.setting.ssyjSwiper,this.isScaleradio=this.$store.state.setting.isScale},mounted(){document.body.appendChild(this.$el)},beforeDestroy(){},destroyed(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)}},n=i("2877"),r=Object(n.a)(a,(function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"yh-setting-fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.settingShow,expression:"settingShow"}],staticClass:"setting",class:{settingShow:t.settingShow}},[e("div",{staticClass:"setting_dislog",on:{click:function(e){t.settingShow=!1}}}),e("div",{staticClass:"setting_inner"},[e("div",{staticClass:"setting_header"},[t._v(" 设置 ")]),e("div",{staticClass:"setting_body"},[e("div",{staticClass:"left_shu"},[t._v(" 全局设置")]),e("div",{staticClass:"setting_item"},[e("span",{staticClass:"setting_label"},[t._v(" 是否进行自动适配"),e("span",{staticClass:"setting_label_tip"},[t._v("(默认分辨率1920*1080)")]),t._v(": ")]),e("div",{staticClass:"setting_content"},[e("el-radio-group",{on:{change:e=>t.radiochange(e,"isScale")},model:{value:t.isScaleradio,callback:function(e){t.isScaleradio=e},expression:"isScaleradio"}},[e("el-radio",{attrs:{label:!0}},[t._v("是")]),e("el-radio",{attrs:{label:!1}},[t._v("否")])],1)],1)]),e("div",{staticClass:"left_shu"},[t._v(" 实时监测")]),e("div",{staticClass:"setting_item"},[e("span",{staticClass:"setting_label"},[t._v(" 设备提醒自动轮询: "),e("span",{staticClass:"setting_label_tip"})]),e("div",{staticClass:"setting_content"},[e("el-radio-group",{on:{change:e=>t.radiochange(e,"sbtxSwiper")},model:{value:t.sbtxradio,callback:function(e){t.sbtxradio=e},expression:"sbtxradio"}},[e("el-radio",{attrs:{label:!0}},[t._v("是")]),e("el-radio",{attrs:{label:!1}},[t._v("否")])],1)],1)]),e("div",{staticClass:"setting_item"},[e("span",{staticClass:"setting_label"},[t._v(" 实时预警轮播: ")]),e("div",{staticClass:"setting_content"},[e("el-radio-group",{on:{change:e=>t.radiochange(e,"ssyjSwiper")},model:{value:t.ssyjradio,callback:function(e){t.ssyjradio=e},expression:"ssyjradio"}},[e("el-radio",{attrs:{label:!0}},[t._v("是")]),e("el-radio",{attrs:{label:!1}},[t._v("否")])],1)],1)]),e("div",{staticClass:"flex justify-center"})])])])])}),[],!1,null,"57bb899c",null).exports;var l={name:"VScaleScreen",props:{width:{type:[String,Number],default:1920},height:{type:[String,Number],default:1080},fullScreen:{type:Boolean,default:!1},autoScale:{type:[Object,Boolean],default:!0},selfAdaption:{type:Boolean,default:!0},delay:{type:Number,default:500},boxStyle:{type:Object,default:()=>({})},wrapperStyle:{type:Object,default:()=>({})}},data:()=>({currentWidth:0,currentHeight:0,originalWidth:0,originalHeight:0,onResize:null,observer:null}),watch:{selfAdaption(t){t?(this.resize(),this.addListener()):(this.clearListener(),this.clearStyle())}},computed:{screenWrapper(){return this.$refs.screenWrapper}},methods:{initSize(){return new Promise((t,e)=>{this.screenWrapper.parentNode.style.overflow="hidden",this.screenWrapper.parentNode.scrollLeft=0,this.screenWrapper.parentNode.scrollTop=0,this.$nextTick(()=>{this.width&&this.height?(this.currentWidth=this.width,this.currentHeight=this.height):(this.currentWidth=this.screenWrapper.clientWidth,this.currentHeight=this.screenWrapper.clientHeight),this.originalHeight&&this.originalWidth||(this.originalWidth=window.screen.width,this.originalHeight=window.screen.height),t()})})},updateSize(){this.currentWidth&&this.currentHeight?(this.screenWrapper.style.width=this.currentWidth+"px",this.screenWrapper.style.height=this.currentHeight+"px"):(this.screenWrapper.style.width=this.originalWidth+"px",this.screenWrapper.style.height=this.originalHeight+"px")},handleAutoScale(t){if(!this.autoScale)return;const e=this.screenWrapper,i=e.clientWidth,s=e.clientHeight,a=document.body.clientWidth,n=document.body.clientHeight;e.style.transform=`scale(${t},${t}) `;let r=Math.max((a-i*t)/2,0),l=Math.max((n-s*t)/2,0);"object"==typeof this.autoScale&&(!this.autoScale.x&&(r=0),!this.autoScale.y&&(l=0)),this.screenWrapper.style.margin=`${l}px ${r}px`},updateScale(){const t=this.screenWrapper,e=document.body.clientWidth,i=document.body.clientHeight,s=e/(this.currentWidth||this.originalWidth),a=i/(this.currentHeight||this.originalHeight);if(this.fullScreen)return t.style.transform=`scale(${s},${a})`,!1;const n=Math.min(s,a);this.handleAutoScale(n)},initMutationObserver(){const t=this.screenWrapper;(this.observer=new MutationObserver(()=>{this.onResize()})).observe(t,{attributes:!0,attributeFilter:["style"],attributeOldValue:!0})},clearListener(){window.removeEventListener("resize",this.onResize)},addListener(){window.addEventListener("resize",this.onResize)},clearStyle(){const t=this.screenWrapper;t.parentNode.style.overflow="auto",t.style=""},async resize(){this.selfAdaption&&(await this.initSize(),this.updateSize(),this.updateScale())}},mounted(){this.onResize=function(t,e){let i=null;return function(...s){i=setTimeout(()=>{"function"==typeof t&&t.apply(null,s),clearTimeout(i)},e>0?e:100)}}(()=>{this.resize()},this.delay),this.$nextTick(()=>{this.selfAdaption&&(this.resize(),this.addListener())})},beforeDestroy(){this.clearListener()}},c=(i("6557"),{components:{Setting:r,ScaleScreen:Object(n.a)(l,(function(){return(0,this._self._c)("div",{ref:"screenWrapper",staticClass:"screen-wrapper",style:this.wrapperStyle},[this._t("default")],2)}),[],!1,null,"da9f1cae",null).exports},data:()=>({timing:null,loading:!0,dateDay:null,dateYear:null,dateWeek:null,weekday:["周日","周一","周二","周三","周四","周五","周六"],pageTitle:"设备数字化管理"}),filters:{numsFilter:t=>t||0},computed:{},created(){},mounted(){this.timeFn(),this.cancelLoading()},beforeDestroy(){clearInterval(this.timing)},watch:{$route:{immediate:!0,handler(t){this.pageTitle=t.meta.title||"设备数字化管理"}}},methods:{showSetting(){this.$refs.setting.init()},changeScreen(t){1==t?this.$router.push("/index"):2==t?this.$router.push("/index2"):3==t?this.$router.push("/index3"):4==t?this.$router.push("/index4"):5==t&&this.$router.push("/tvwall")},timeFn(){this.timing=setInterval(()=>{this.dateDay=Object(s.a)(new Date,"HH: mm: ss"),this.dateYear=Object(s.a)(new Date,"yyyy-MM-dd"),this.dateWeek=this.weekday[(new Date).getDay()]},1e3)},cancelLoading(){let t=setTimeout(()=>{this.loading=!1,clearTimeout(t)},500)}}}),o=(i("843b"),Object(n.a)(c,(function(){var t=this,e=t._self._c;return e("ScaleScreen",{staticClass:"scale-wrap",attrs:{width:1920,height:1080,selfAdaption:t.$store.state.setting.isScale}},[e("div",{staticClass:"bg"},[t.loading?e("dv-loading",[t._v("加载中...")]):e("div",{staticClass:"host-body"},[e("div",{staticClass:"d-flex jc-center title_wrap"},[e("div",{staticClass:"zuojuxing"}),e("div",{staticClass:"youjuxing"}),e("div",{staticClass:"guang"}),e("div",{staticClass:"d-flex jc-center"},[e("div",{staticClass:"title"},[e("span",{staticClass:"title-text"},[t._v(t._s(t.pageTitle))])])]),e("div",{staticClass:"leftSetting"},[e("div",{staticClass:"click-button",on:{click:function(e){return t.changeScreen(1)}}},[t._v(" 1 ")]),e("div",{staticClass:"click-button",on:{click:function(e){return t.changeScreen(2)}}},[t._v(" 2 ")]),e("div",{staticClass:"click-button",on:{click:function(e){return t.changeScreen(3)}}},[t._v(" 3 ")]),e("div",{staticClass:"click-button",on:{click:function(e){return t.changeScreen(4)}}},[t._v(" 4 ")]),e("div",{staticClass:"click-button",on:{click:function(e){return t.changeScreen(5)}}},[t._v(" 电视 ")])]),e("div",{staticClass:"timers"},[t._v(" "+t._s(t.dateYear)+" "+t._s(t.dateWeek)+" "+t._s(t.dateDay)+" ")])]),e("router-view")],1)],1),e("Setting",{ref:"setting"})],1)}),[],!1,null,null,null));e.default=o.exports},6557:function(t,e,i){"use strict";i("bdf2")},"843b":function(t,e,i){"use strict";i("2219")},bdf2:function(t,e,i){},ed08:function(t,e,i){"use strict";function s(t,e){if(t){const i=new Date(t),s={"M+":i.getMonth()+1,"d+":i.getDate(),"H+":i.getHours(),"m+":i.getMinutes(),"s+":i.getSeconds(),"q+":Math.floor((i.getMonth()+3)/3),S:i.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(i.getFullYear()+"").substr(4-RegExp.$1.length)));for(const t in s)new RegExp("("+t+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?s[t]:("00"+s[t]).substr((""+s[t]).length)));return e}return""}function a(t){if("string"==typeof t&&t.includes("%")){return parseFloat(t.replace("%",""))/100}return parseFloat(t)}i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return a}))}}]);